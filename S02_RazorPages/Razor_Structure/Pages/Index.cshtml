@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";

    //string x = "Oi doi";
    //string y = "OI";
}


@*BIỂU THỨC TRONG RAZOR*@
@*-- @DateTime.Now là biểu thức trong Razor vì nó có trả về kết quả ---*@
@*<p>Bây giờ là @DateTime.Now</p>
    <p>Giờ này tuần trước là: @(DateTime.Now - TimeSpan.FromDays(7))</p>
    <p>@(@x + " " + @y)</p>*@

<!--<p>1 + 1 = @(1 + 1)</p>--> <!-- explicit -->
@*<p>Pi = @Math.PI</p>*@ <!-- implicit -->
@*<p>Sin(10) = @Math.Sin(10)</p>*@ <!-- implicit -->
<!--<p>Circle Area = @(Math.PI * 10 * 10)</p>--> <!-- explicit -->
@*KHỐI CODE TRONG RAZOR (RAZOR CODE BLOCK)*@
@*@{ // đây là một khối code
        // khai báo và khởi tạo biến
        var str = "Đây là một biến khai báo và khởi tạo trong code block";

        string SayHello(string name)
        {
            return $"Hello, {name}";
        }

        var sol = Solve(1, -2, 1);
    }

    <h3>@SayHello("Covid")</h3>

    <p>@str</p>

    @{ // đây là một khối code khác
        str = "Cập nhật giá trị của biến trong một code block khác";
    }

    <p>@str</p>

    <p>Phương trình x^2 + 2x + 1 = 0 có nghiệm là @Solve(1, 2, 1)</p>

    <p>Phương trình x^2 - 2x + 1 = 0 có nghiệm là @sol</p>

    @{ // đây cũng là một khối code
        (double, double) Solve(double a, double b, double c)
        {
            var d = b * b - 4 * a * c;
            return
                ((-b + Math.Sqrt(d)) / (2 * a),
                (-b - Math.Sqrt(d)) / (2 * a));
        }
    }*@



@*TỰ ĐỘNG CHUYỀN NGÔN NGỮ TRONG KHỐI CODE BLOCK*@
@{
    // Hàm này trả về một khối HTML nên không thể @SayHello. Phải sử dụng code block để tự chuyển sang html
    void SayHello(string name)
    {
        <p>
            <strong style="color:royalblue;">Hello, @name!</strong><br />
            <span>Welcome to Razor tutorial!</span>
        </p>
    }

    // Hàm này trả về giá trị nên @Sum bình thường
    int Sum(int a, int b)
    {
        return a + b;
    }
    // Lời gọi hàm bình thường
    //SayHello("H1N1");

    // Dưới đây lại là đoạn HTML kết hợp với lời gọi hàm
    <div style="background: #b6ff00;">@{SayHello("Covid"); }     @Sum(2,6)</div>

    // Viết code C# bình thường
}

<div style="background: #ffd800;">
    @{ SayHello("Sars"); }
</div>